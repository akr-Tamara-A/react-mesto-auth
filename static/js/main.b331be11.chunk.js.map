{"version":3,"sources":["images/logo.svg","components/Header.jsx","contexts/CurrentUserContext.js","components/Card.jsx","components/Spinner.jsx","components/Main.jsx","components/Footer.jsx","components/ImagePopup.jsx","components/Popup.jsx","components/Form.jsx","components/PopupWithForm.js","components/Input.jsx","components/EditProfilePopup.jsx","components/EditAvatarPopup.jsx","components/AddPlacePopup.jsx","utils/Api.js","pages/MainPage.js","Auth.js","pages/Register.js","pages/Login.js","hocs/ProtectedRoute.js","components/InfoTooltip.jsx","components/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","Header","props","className","href","src","logoPath","alt","children","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","tabIndex","onClick","onCardClick","type","title","onCardLike","length","onCardDelete","Spinner","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","isCardsLoading","cards","map","key","Footer","ImagePopup","id","onClose","Popup","popupStyle","isOpen","Form","action","noValidate","onSubmit","formClass","submitValue","PopupWithForm","onDeleteCard","evt","preventDefault","Input","forwardRef","ref","isRequired","theme","rest","required","autoComplete","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","handleOnChangeName","useCallback","target","value","handleOnChangeDescription","handleSubmit","minLength","maxLength","pattern","placeholder","onChange","EditAvatarPopup","onUpdateAvatar","inputRef","createRef","current","AddPlacePopup","setTitle","setLink","handleChangeTitle","handleChangeLink","api","options","this","_baseUrl","baseUrl","headers","fetch","then","res","ok","json","Promise","reject","status","catch","err","console","log","data","method","body","JSON","stringify","cardId","cardID","authorization","MainPage","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setCards","selectedCard","setSelectedCard","setCardsIsLoading","editAvatar","editUserInfo","addCards","confirmDeletion","submitButtonValues","setSubmitButtonValues","getUserInfo","getInitialCards","finally","closeAllPopups","Provider","userData","email","onSignOut","handleCardClick","currentCard","user","changeLikeCardStatus","newCard","newCards","handleCardLike","deleteCard","filter","patchUserInfo","patchUserAvatar","postNewCard","BASE_URL","Register","history","useHistory","password","registerData","setRegisterData","handleChange","e","to","Accept","onRegister","push","Login","loginData","setLoginData","token","localStorage","setItem","onLogin","ProtectedRoute","loggedIn","path","InfoTooltip","isSuccess","App","setLoggedIn","setIsOpen","setIsSuccess","setUserData","tokenCheck","jwt","getItem","removeItem","booleen","exact","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.b331be11.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","import React from 'react';\nimport logoPath from '../images/logo.svg';\n\n/** Компонент \"Хедер\" */\nexport default function Header(props) {\n  /** Разметка хедера */\n  return (\n    <header className=\"header page__header page__section\">\n      <a href=\"https://akr-tamara-a.github.io/mesto/index.html\" className=\"header__logo-link\">\n        <img src={logoPath} alt=\"logo\" className=\"logo header__logo\" />\n      </a>\n      <h1 className=\"header__title\">Сервис Mesto Russia</h1>\n\n      {props.children}\n      \n    </header>\n  );\n}\n\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n/** Компонент \"Карточка\" */\nexport default function Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  /** Функция обработки клика по карточке */\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  /** Функция обработки лайка карточки */\n  function handleLike() {\n    props.onCardLike(props.card);\n  }\n\n  /** Функция обработки удаления карточки */\n  function handleDelete() {\n    props.onCardDelete(props.card);\n  }\n\n  /** Проверка если создатель карточки - текущий пользователь */\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  /** Переменная со стиля для кнопки удаления карточки */\n  const cardDeleteButtonClassName = `\n      element__delete \n      button \n      button_style_secondary \n      button_type_delete\n      ${!isOwn ? \"element__delete_hidden\" : null}`;\n\n  /** Проверка есть ли у карточки лайк, поставленный текущим пользователем */\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n\n  /** Переменная со стиля для кнопки лайка карточки */\n  const cardLikeButtonClassName = `\n    button \n    button_type_no-like \n    element__like-button \n    button_style_secondary\n    ${isLiked ? \"button_type_like\" : \"button_type_no-like\"}\n    `;\n\n  /** Разметка карточки */\n  return (\n    <li className=\"elements__item element\">\n      <figure className=\"element__wrapper\">\n        <div className=\"element__head\">\n          <img\n            src={props.card.link}\n            alt={props.card.name}\n            tabIndex=\"0\"\n            onClick={handleClick}\n            className=\"element__image\"\n          />\n        </div>\n        <figcaption className=\"element__figcaption\">\n          <h3 className=\"element__title\">{props.card.name}</h3>\n          <div className=\"element__like\">\n            <button\n              type=\"button\"\n              title=\"Добавь лайк\"\n              className={cardLikeButtonClassName}\n              onClick={handleLike}\n            />\n            <p className=\"element__like-counter\">{props.card.likes.length}</p>\n          </div>\n        </figcaption>\n      </figure>\n      <button\n        type=\"button\"\n        title=\"Удалить фото\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDelete}\n      />\n    </li>\n  );\n}\n","import React from 'react'; \nimport './styles/spinner.css'; \n \n/** Компонент \"Спиннер\" */ \nexport default function Spinner() { \n  /** Разметка спиннера */ \n  return ( \n    <div className=\"spinner\"> \n      <div className=\"spinner__item\"></div> \n    </div> \n  ); \n} ","import React, { useContext } from \"react\";\nimport Card from \"./Card\";\nimport Spinner from \"./Spinner\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n/** Компонент \"Контент страницы\" */\nexport default function Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  /** Разметка контента страницы */\n  return (\n    <main className=\"content page__content\">\n      <div className=\"profile page__section\">\n        <div className=\"profile__container\">\n          <div className=\"profile__userpic\">\n            <div\n              className=\"profile__edit\"\n              onClick={props.onEditAvatar}\n              tabIndex=\"0\"\n            ></div>\n            <img\n              src={currentUser && currentUser.avatar}\n              alt=\"Аватар автора\"\n              className=\"profile__image\"\n            />\n          </div>\n          <div className=\"profile__user\">\n            <h2 className=\"profile__user-name\">{currentUser && currentUser.name}</h2>\n            <p className=\"profile__user-job\">{currentUser && currentUser.about}</p>\n          </div>\n          <button\n            type=\"button\"\n            title=\"Редактирование профиля\"\n            onClick={props.onEditProfile}\n            className=\"button button_type_edit-profile button_style_primary\"\n          />\n        </div>\n        <div className=\"profile__add-post\">\n          <button\n            type=\"button\"\n            title=\"Добавить фото\"\n            onClick={props.onAddPlace}\n            className=\"button button_type_add-photo button_style_primary\"\n          />\n        </div>\n      </div>\n      <div className=\"elements page__section\">\n        <ul className=\"elements__container\">\n          {props.isCardsLoading \n            ? <Spinner />\n            : props.cards.map((card) => {\n              return (\n                <Card \n                  card={card} \n                  key={card._id} \n                  onCardClick={props.onCardClick} \n                  onCardLike={props.onCardLike} \n                  onCardDelete={props.onCardDelete}/>\n              );\n            })\n          }\n        </ul>\n      </div>\n    </main>\n  );\n}\n","import React from 'react';\n\n/** Компонент \"Футер\" */\nexport default function Footer() {\n  /** Разметка футера */\n  return (\n    <footer className=\"footer page__footer page__section\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\n","import React from 'react';\n\n/** Компонент \"Попап просмотра фото\" */\nexport default function ImagePopup(props) {\n  /** Разметка попапа просмотра фото */\n  return (\n    <div id=\"popupViewPhoto\" className={`popup popup_style_view ${props.card && \"popup_opened\"}`}>\n      <div className=\"popup__container\">\n        <button\n          name=\"viewPhotoClose\"\n          type=\"button\"\n          title=\"Закрыть окно\"\n          onClick={props.onClose}\n          className=\"popup__close\"\n        />\n        <div className=\"popup__view\">\n          <img \n            src={props.card && props.card.link} \n            alt={props.card && props.card.name} \n            className=\"popup__photo\" />\n          <p className=\"popup__photo-title\">{props.card && props.card.name}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n","import React from \"react\";\r\nimport './styles/popup.css';\r\n\r\n/** Компонент \"Попап\" */\r\nexport default function Popup(props) {\r\n\r\n  /** Разметка попапа */\r\n  return (\r\n    <div\r\n      id={props.name}\r\n      className={`popup ${props.popupStyle} ${props.isOpen && \"popup_opened\"}`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          name=\"editProfileClose\"\r\n          type=\"button\"\r\n          title=\"Закрыть окно\"\r\n          onClick={props.onClose}\r\n          className=\"popup__close\"\r\n        />\r\n\r\n        {props.children}\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from \"react\";\r\nimport './styles/form.css';\r\n\r\n/** Компонент \"Форма\" */\r\nexport default function Form(props) {\r\n\r\n  /** Разметка формы */\r\n  return (\r\n    <form\r\n      action=\"#\"\r\n      name={props.name}\r\n      noValidate\r\n      onSubmit={props.onSubmit}\r\n      className={`form form_style_${props.formClass}`}\r\n    >\r\n      <h2 className=\"form__title\">{props.title}</h2>\r\n\r\n      <fieldset className=\"form__fieldset\">\r\n        {props.children}\r\n      </fieldset>\r\n      \r\n      <button\r\n        name={`${props.name}Submit`}\r\n        type=\"submit\"\r\n        className={`form__submit form__submit_style_${props.formClass}`}\r\n      >\r\n        {props.submitValue}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\n","import React from \"react\";\r\n\r\nimport Popup from \"./Popup\";\r\nimport Form from \"./Form\";\r\n\r\nexport default function PopupWithForm({ onDeleteCard, submitValue, ...props }) {\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onDeleteCard();\r\n  };\r\n\r\n  return (\r\n    <Popup \r\n      name=\"deleteCard\" \r\n      popupStyle=\"popup_style_form\"\r\n      {...props}\r\n      >\r\n      <Form\r\n        title=\"Вы уверены?\" \r\n        submitValue={submitValue}\r\n        formClass=\"popup\"\r\n        onSubmit={handleSubmit}\r\n      />\r\n    </Popup>\r\n  );\r\n}\r\n","import React, { forwardRef } from \"react\";\n\n/** Компонент \"Инпут\" */\nconst Input = forwardRef(({ name, isRequired, theme, ...rest }, ref) => {\n  /** Разметка инпута */\n  return (\n    <label className=\"popup__form-field\">\n      <input\n        ref={ref}\n        id={`input-${name}`}\n        name={name}\n        required={isRequired}\n        autoComplete=\"true\"\n        {...rest}\n        className={`popup__input popup__input_style_${theme}`}\n      />\n      <span id={`input-${name}-error`} className=\"popup__input-error\"></span>\n    </label>\n  );\n});\nexport default Input;\n","import React, { useState, useContext, useCallback, useEffect } from 'react';\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nimport Popup from './Popup';\nimport Form from './Form';\nimport Input from \"./Input\";\n\n\n/** Компонент \"Попап редактирование профиля\" */\nexport default function EditProfilePopup({onUpdateUser, ...props}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    if (currentUser) {\n      setName(currentUser.name || '');\n      setDescription(currentUser.about || '');\n    }\n  }, [currentUser]);\n\n  const handleOnChangeName = useCallback(evt => {\n    setName(evt.target.value);\n  }, [setName]);\n\n  const handleOnChangeDescription = useCallback(evt => {\n    setDescription(evt.target.value);\n  }, [setDescription]);\n\n  const handleSubmit = useCallback((evt) => {\n    evt.preventDefault();\n\n    onUpdateUser({\n      name, \n      about: description});\n  }, [name, description, onUpdateUser]);\n\n  return (\n    <Popup \n      name=\"editProfile\" \n      popupStyle=\"popup_style_form\"\n      {...props}\n    >\n      <Form\n        title=\"Редактировать профиль\"\n        submitValue=\"Сохранить\"\n        formClass=\"popup\"\n        onSubmit={handleSubmit}\n      >\n        <Input\n          name=\"userName\"\n          theme=\"light\"\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          pattern=\"^[A-Za-zА-Яа-яЁё\\s-]+$\"\n          placeholder=\"Имя пользователя\"\n          isRequired={true}\n          value={name}\n          onChange={handleOnChangeName}\n        />\n        <Input\n          name=\"userJob\"\n          theme=\"light\"\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          placeholder=\"О себе\"\n          isRequired={true}\n          value={description}\n          onChange={handleOnChangeDescription}\n        />\n      </Form>\n    </Popup>\n  );\n}","import React, { useCallback, createRef } from \"react\";\n\nimport Popup from \"./Popup\";\nimport Form from \"./Form\";\nimport Input from \"./Input\";\n\nexport default function EditAvatarPopup({ onUpdateAvatar, ...props }) {\n  const inputRef = createRef();\n\n  const handleSubmit = useCallback(\n    (evt) => {\n      evt.preventDefault();\n      onUpdateAvatar(inputRef.current.value);\n    },\n    [inputRef, onUpdateAvatar]\n  );\n\n  return (\n    <Popup \n      name=\"editAvatar\" \n      popupStyle=\"popup_style_form\"\n      {...props}\n      >\n      <Form\n        title=\"Обновить аватар\" \n        submitValue=\"Сохранить\"\n        formClass=\"popup\"\n        onSubmit={handleSubmit}\n      >\n        <Input\n          name=\"avatar\"\n          theme=\"light\"\n          type=\"url\"\n          placeholder=\"Ссылка на новый аватар\"\n          isRequired={true}\n          ref={inputRef}\n        />\n      </Form>\n    </Popup>\n  );\n}\n","import React, { useState, useCallback } from \"react\";\n\nimport Popup from \"./Popup\";\nimport Form from \"./Form\";\nimport Input from \"./Input\";\n\nexport default function AddPlacePopup({onAddPlace, ...props}) {\n  const [title, setTitle] = useState('');\n  const [link, setLink] = useState('');\n\n  const handleChangeTitle = useCallback(evt => {\n    setTitle(evt.target.value);\n  }, [setTitle]);\n\n  const handleChangeLink = useCallback(evt => {\n    setLink(evt.target.value);\n  }, [setLink]);\n\n  const handleSubmit = useCallback((evt) => {\n    evt.preventDefault();\n    onAddPlace(title, link);\n    setTitle('');\n    setLink('');\n  }, [title, link, onAddPlace]);\n\n\n  return (\n    <Popup\n      name=\"addPhoto\"\n      popupStyle=\"popup_style_form\"\n      {...props}\n      >\n      <Form\n        title=\"Новое место\"\n        formClass=\"popup\"\n        submitValue=\"Сохранить\"\n        onSubmit={handleSubmit}\n      >\n        <Input\n          name=\"photoTitle\"\n          theme=\"light\"\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          placeholder=\"Название\"\n          isRequired={true}\n          value={title}\n          onChange={handleChangeTitle}\n        />\n        <Input\n          name=\"photoLink\"\n          theme=\"light\"\n          type=\"url\"\n          placeholder=\"Ссылка на картинку\"\n          isRequired={true}\n          value={link}\n          onChange={handleChangeLink}\n        />\n      </Form>\n    </Popup>\n  );\n}\n","export default class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  /** получить список всех карточек в виде массива (GET) */\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, { headers: this.headers })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(\"Ошибка. Запрос не выполнен: \", err);\n      });\n  }\n\n  /** получить данные пользователя (GET) */\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, { headers: this.headers })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(\"Ошибка. Запрос не выполнен: \", err);\n      });\n  }\n\n  /** заменить данные пользователя (PATCH) */\n  patchUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  /** заменить аватар (PATCH) */\n  patchUserAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  /** добавить карточку (POST) */\n  postNewCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  /** */\n  changeLikeCardStatus(cardId, isLiked) {\n    const method = isLiked ? \"PUT\" : \"DELETE\";\n    \n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: method,\n      headers: this.headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  /** \"залайкать\" карточку (PUT) */\n  likeCard(cardID) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  /** удалить лайк карточки (DELETE) */\n  unlikeCard(cardID) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  /** удалить карточку (DELETE) */\n  deleteCard(cardID) {\n    return fetch(`${this._baseUrl}/cards/${cardID}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n}\n\n/** Связь с сервером */\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-14\",\n  headers: {\n    authorization: \"f7fbd0be-598d-4bc2-8963-24bc80b8013a\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Header from \"../components/Header\";\r\nimport Main from \"../components/Main\";\r\nimport Footer from \"../components/Footer\";\r\nimport ImagePopup from \"../components/ImagePopup\";\r\nimport PopupWithForm from \"../components/PopupWithForm\";\r\nimport EditProfilePopup from \"../components/EditProfilePopup\";\r\nimport EditAvatarPopup from \"../components/EditAvatarPopup\";\r\nimport AddPlacePopup from \"../components/AddPlacePopup\";\r\n\r\nimport { api } from \"../utils/Api\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\n/** Основной компонент страницы */\r\nfunction MainPage(props) {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [cards, setCards] = useState([]);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [isCardsLoading, setCardsIsLoading] = useState(false);\r\n  const [submitButtonValues, setSubmitButtonValues] = useState({\r\n    editAvatar: 'Сохранить',\r\n    editUserInfo: 'Сохранить',\r\n    addCards: 'Сохранить',\r\n    confirmDeletion: 'Да',\r\n  });\r\n\r\n  /** Обработка выхода из аккаунта */\r\n  const signOut = () => {\r\n    props.onSignOut();\r\n  }\r\n\r\n  useEffect(() => {\r\n    /** Загрузка данных текущего пользователя с сервера */\r\n    api\r\n    .getUserInfo()\r\n    .then((data) => {\r\n      setCurrentUser(data);\r\n      console.log(`user info loaded`);\r\n      setCardsIsLoading(true);\r\n      /** Загрузка данных карточек с сервера */\r\n      api\r\n      .getInitialCards()\r\n      .then((data) => {\r\n        setCards(data);\r\n      })\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"Ошибка. Не удалось установить новые данные: \", err);\r\n    })\r\n    .finally(() => {\r\n      setCardsIsLoading(false);\r\n      console.log(`cards info loaded`);\r\n        });\r\n    }, [setCurrentUser, setCards]);\r\n  \r\n\r\n  /** Функция закрытия попапов */\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n  \r\n  /** Обработка лайка карточки */\r\n  const handleCardLike = currentCard => {\r\n    /** Проверка лайкнута ли карточка */\r\n    const isLiked = currentCard.likes.some(user => user._id === currentUser._id);\r\n    \r\n    api.changeLikeCardStatus(currentCard._id, !isLiked).then((newCard) => {\r\n      const newCards = cards.map((card) => card._id === currentCard._id ? newCard : card);\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  /** Обработка удаления карточки */\r\n  const handleCardDelete = currentCard => {\r\n    api.deleteCard(currentCard._id)\r\n    .then((res) => {\r\n      console.log(res);\r\n      const newCards = cards.filter(card => {\r\n        return card._id !== currentCard._id\r\n      });\r\n      setCards(newCards);\r\n      console.log('card deleted');\r\n    })\r\n  }\r\n\r\n  /** Функция обработки клика по карточке */\r\n  const handleCardClick = card => {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  /** Обработка сабмита редактирования профиля пользователя */\r\n  const handleUpdateUser = (data) => {\r\n    setSubmitButtonValues({\r\n      ...submitButtonValues, \r\n      editUserInfo: 'Загружается...',\r\n    })\r\n    api.patchUserInfo(data)\r\n    .then(data => {\r\n      setCurrentUser(data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"Ошибка. Не удалось установить новые данные: \", err);\r\n    })\r\n    .finally(() => {\r\n      console.log(`user info updates`);\r\n      setSubmitButtonValues({\r\n        ...submitButtonValues, \r\n        editUserInfo: 'Сохранить',\r\n      })\r\n      setIsEditProfilePopupOpen(false);\r\n    });\r\n  }\r\n\r\n  /** Обработка сабмита редактирования аватара пользователя */\r\n  const handleUpdateAvatar = (data) => {\r\n    setSubmitButtonValues({\r\n      ...submitButtonValues, \r\n      editAvatar: 'Загружается...',\r\n    });\r\n    api.patchUserAvatar(data)\r\n    .then(data => {\r\n      setCurrentUser(data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"Ошибка. Не удалось установить новые данные: \", err);\r\n    })\r\n    .finally(() => {\r\n      console.log(`user avatar updated`);\r\n      setSubmitButtonValues({\r\n        ...submitButtonValues, \r\n        editAvatar: 'Сохранить',\r\n      })\r\n      setIsEditAvatarPopupOpen(false);\r\n    });\r\n  }\r\n  \r\n  /** Обработка сабмита добавления карточки */\r\n  const handleAddCard = (title, link) => {\r\n    setSubmitButtonValues({\r\n      ...submitButtonValues,\r\n      addCards: \"Загружается...\",\r\n    });\r\n    api\r\n      .postNewCard(title, link)\r\n      .then((newCard) => {\r\n        console.log(newCard);\r\n        setCards([newCard, ...cards]);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Ошибка. Не удалось установить новые данные: \", err);\r\n      })\r\n      .finally(() => {\r\n        console.log(`new card added`);\r\n        setSubmitButtonValues({\r\n          ...submitButtonValues,\r\n          addCards: \"Сохранить\",\r\n        });\r\n        setIsAddPlacePopupOpen(false);\r\n      });\r\n  };\r\n\r\n  /** Основная разметка */\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header>\r\n        <div>\r\n          <span className=\"mail\">{props.userData.email}</span>\r\n          <button className=\"link header__link\" onClick={signOut}>Выйти</button>\r\n        </div>\r\n      </Header>\r\n      <Main\r\n        cards={cards}\r\n        isCardsLoading={isCardsLoading}\r\n        onEditProfile={() => {\r\n          setIsEditProfilePopupOpen(true);\r\n        }}\r\n        onEditAvatar={() => {\r\n          setIsEditAvatarPopupOpen(true);\r\n        }}\r\n        onAddPlace={() => {\r\n          setIsAddPlacePopupOpen(true);\r\n        }}\r\n        onCardClick={(card) => {\r\n          handleCardClick(card);\r\n        }}\r\n        onCardLike={(card) => {\r\n          handleCardLike(card);\r\n        }}\r\n        onCardDelete={(card) => {\r\n          handleCardDelete(card);\r\n        }}\r\n      />\r\n      <Footer />\r\n      <EditProfilePopup\r\n        submitValue={submitButtonValues.editUserInfo}\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n      <EditAvatarPopup\r\n        submitValue={submitButtonValues.editAvatar}\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n      <AddPlacePopup\r\n        submitValue={submitButtonValues.addCards}\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddCard}\r\n      />\r\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n      <PopupWithForm\r\n        submitValue={submitButtonValues.confirmDeletion}\r\n        isOpen={false}\r\n        onClose={closeAllPopups}\r\n      />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\n/** Запрос регистрации пользователя */\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => res.json())\r\n};\r\n\r\n/** Запрос авторизации пользователя */\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then((res) => res.json())\r\n};\r\n\r\n/** Проверка токена */\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport Form from \"../components/Form\";\r\nimport Input from \"../components/Input\";\r\n\r\nimport * as auth from '../Auth.js';\r\n\r\n\r\n/** Страница авторизации пользователя */\r\nfunction Register(props) {\r\n  const history = useHistory();\r\n\r\n  const [registerData, setRegisterData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  /** Обработка сабмита регистрации */\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    if (!registerData.email || !registerData.password) {\r\n      return;\r\n    };\r\n    auth\r\n      .register(registerData.email, registerData.password)\r\n      .then((res) => {\r\n        if(res.data) {\r\n          props.onRegister(true);\r\n          history.push(\"/signin\");\r\n        } else {\r\n          return Promise.reject(res);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        props.onRegister(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  /** Получение данных из инпутов */\r\n  const handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n    setRegisterData({\r\n      ...registerData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  /** Основная разметка */\r\n  return (\r\n    <>\r\n      <Header>\r\n        <Link to='/signin' className=\"link header__link\">Войти</Link>\r\n      </Header>\r\n      <div className=\"content page__content\">\r\n        <Form\r\n          title=\"Регистрация\"\r\n          submitValue=\"Зарегистрироваться\"\r\n          onSubmit={handleSubmit}\r\n          formClass=\"page\"\r\n        >\r\n          <Input\r\n            name=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"E-mail\"\r\n            isRequired={true}\r\n            theme=\"dark\"\r\n            value={registerData.email}\r\n            onChange={handleChange}\r\n          />\r\n          <Input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Пароль\"\r\n            isRequired={true}\r\n            theme=\"dark\"\r\n            value={registerData.password}\r\n            onChange={handleChange}\r\n          />\r\n        </Form>\r\n        <Link className=\"link form__link\" to=\"/signin\">Уже зарегистрированы? Войти</Link>\r\n      </div>\r\n\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport Form from \"../components/Form\";\r\nimport Input from \"../components/Input\";\r\n\r\nimport * as auth from '../Auth.js';\r\n\r\n\r\n/** Страница авторизации пользователя */\r\nfunction Login(props) {\r\n  const [loginData, setLoginData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  /** Обработка сабмита авторизации */\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    if (!loginData.email || !loginData.password) {\r\n      return;\r\n    }\r\n    auth\r\n      .authorize(loginData.email, loginData.password)\r\n      .then((res) => {\r\n        if (res.token) {\r\n          localStorage.setItem('jwt', res.token);\r\n          props.onLogin();\r\n        } else {\r\n          return Promise.reject(res);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  /** Получение данных из инпутов */\r\n  const handleChange = (e) => {\r\n    const {name, value} = e.target;\r\n    setLoginData({\r\n      ...loginData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  /** Основная разметка */\r\n  return (\r\n    <>\r\n      <Header>\r\n        <Link to='/signup' className=\"link header__link\">Регистрация</Link>\r\n      </Header>\r\n      <div className=\"content page__content\">\r\n        <Form\r\n          title=\"Вход\"\r\n          submitValue=\"Войти\"\r\n          onSubmit={handleSubmit}\r\n          formClass=\"page\"\r\n        >\r\n          <Input\r\n            name=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"E-mail\"\r\n            isRequired={true}\r\n            theme=\"dark\"\r\n            onChange={handleChange}\r\n          />\r\n          <Input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Пароль\"\r\n            isRequired={true}\r\n            theme=\"dark\"\r\n            onChange={handleChange}\r\n          />\r\n        </Form>\r\n      </div>\r\n\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = (props) => {\r\n  return props.loggedIn ? <Route path={props.path}>{props.children}</Route> : <Redirect to=\"/signin\" />\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport Popup from './Popup';\r\nimport './styles/infoBlock.css';\r\n\r\n\r\n/** Компонент \"Попап редактирование профиля\" */\r\nexport default function InfoTooltip(props) {\r\n\r\n  return (\r\n    <Popup name=\"infoTooltip\" popupStyle=\"popup_style_form\" {...props}>\r\n      <div className=\"infoBlock\">\r\n        <img \r\n          className=\"infoBlock__icon\" \r\n          src={`${props.isSuccess ? '../images/yes.svg' : '../images/no.svg'}`}\r\n          alt={`${props.isSuccess ? 'Успешно' : 'Неудача'}`} \r\n        />\r\n        <p className=\"infoBlock__text\">\r\n        {`${props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}`} \r\n        </p>\r\n      </div>\r\n    </Popup>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\n\nimport MainPage from \"../pages/MainPage\";\nimport Register from \"../pages/Register\";\nimport Login from \"../pages/Login\";\nimport ProtectedRoute from \"../hocs/ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nimport * as auth from '../Auth.js';\n\n/** Основной компонент страницы */\nfunction App() {\n  const history = useHistory();\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isOpen, setIsOpen] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [userData, setUserData] = useState({});\n\n  /** Проверка токена при монтировании */\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  /** Проверка токена */\n  const tokenCheck = () => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      console.log(43);\n      auth\n        .checkToken(jwt)\n        .then((res) => {\n          setUserData(res.data);\n          setLoggedIn(true);\n          history.push(\"/mesto\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  /** Авторизация */\n  const onLogin = () => {\n    tokenCheck();\n  }\n\n  /** Закрытие попапа */\n  const handleClose = () => {\n    setIsOpen(false);\n  }\n\n  /** Регистрация */\n  const onRegister = (booleen) => {\n    setIsOpen(true);\n    setIsSuccess(booleen);\n  };\n\n  /** Выход из аккаунта */\n  const onSignOut = () => {\n    localStorage.removeItem('jwt');\n    history.push('/signin');\n  }\n\n  /** Основная разметка */\n  return (\n    <>\n      <div className=\"page__container\">\n        <Switch>\n          <ProtectedRoute loggedIn={loggedIn} path=\"/mesto\">\n            <MainPage userData={userData} onSignOut={onSignOut} />\n          </ProtectedRoute>\n          <Route path=\"/signup\" >\n            <Register onRegister={onRegister} />\n          </Route>\n          <Route path=\"/signin\">\n            <Login onLogin={onLogin} />\n          </Route>\n          <Route exact path=\"/\">\n            {loggedIn ? <Redirect to=\"/mesto\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n          <Route path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>          \n        </Switch>\n      </div>\n      <InfoTooltip isOpen={isOpen} isSuccess={isSuccess} onClose={handleClose} />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}